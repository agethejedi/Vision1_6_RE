:root{
  --bg:#071016; --panel:#0c1820; --panel-2:#0f1d27; --text:#e7f7f2;
  --muted:#8aa3a0; --primary:#00eec3; --accent:#12f0a7;
  --danger:#ff3b3b; --warning:#ffb020; --good:#22d37b; --link:#7ee3ff;
  --border:#1a2a33; --shadow:rgba(0,0,0,.5);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:linear-gradient(180deg,#071016,#09151c 40%,#071016);
  color:var(--text); font-family:Inter,ui-sans-serif,system-ui,Arial;
}
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 16px;background:#0b141b;border-bottom:1px solid #0f1d27;
  position:sticky;top:0;z-index:5;
}
.brand{display:flex;align-items:center;gap:10px}
.favicon{width:24px;height:24px;border-radius:6px;filter:drop-shadow(0 0 6px #0ef)}
.brand-text{letter-spacing:.4px}
.brand-x{color:#0ef;font-weight:800;text-shadow:0 0 8px #0ef}

.nav{display:flex;align-items:center;gap:10px}
.btn{
  background:var(--panel-2);border:1px solid var(--border);color:var(--text);
  padding:8px 12px;border-radius:10px;cursor:pointer;box-shadow:0 4px 14px var(--shadow);
}
.btn:hover{border-color:#20414f}
.btn-ghost{background:transparent}
.select,.input{
  background:#0d1a22;border:1px solid var(--border);color:var(--text);
  padding:8px 10px;border-radius:10px;min-width:160px;
}
.layout{display:grid;grid-template-columns:1fr 360px;gap:16px;padding:16px;max-width:1600px;margin:0 auto}
.left,.right{display:grid;gap:16px}
.panel{
  background:var(--panel);border:1px solid var(--border);border-radius:14px;
  padding:14px;box-shadow:0 8px 24px var(--shadow)
}
.panel-title{margin:0 0 10px;font-weight:700}
.panel-row{display:flex;gap:8px;margin-top:10px}
.meta{color:var(--muted);font-size:12px;line-height:1.5}
#graphCanvas{width:100%;border-radius:12px;background:#08131a;border:1px solid #0f1d27}
.foot{padding:14px;color:var(--muted);text-align:center;border-top:1px solid #0f1d27;margin-top:10px}

/* === Halo & bands ======================================================= */

.node {
  position: relative;
}

.halo::before {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 9999px;
  pointer-events: none;
}

.halo.halo-red::before {
  box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.45);
  animation: pulse-red 2s ease-out infinite;
}

@keyframes pulse-red {
  0%   { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.45); }
  70%  { box-shadow: 0 0 0 18px rgba(239, 68, 68, 0.00); }
  100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.00); }
}

/* Optional score bands if you tint nodes */
.band-high     { outline: 2px solid rgba(239, 68, 68, 0.35); }
.band-elevated { outline: 2px solid rgba(245, 158, 11, 0.35); }
.band-moderate { outline: 2px solid rgba(16, 185, 129, 0.25); }

/* === Score meter ======================================================== */

.score-meter {
  --ring-color: #10b981;
}

.score-meter.blocked {
  --ring-color: #ef4444; /* red */
}

.score-meter .ring,
.score-meter .arc {
  stroke: var(--ring-color);
}

/* If your meter uses a circular div ring */
.score-meter .ring-div {
  box-shadow: 0 0 0 3px var(--ring-color) inset;
}
